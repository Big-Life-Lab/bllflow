---
title: "1 - Data templates and examples"
output: rmarkdown::html_vignette
---

```{r setup, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```
## Introduction

**bllFlow** uses consistent labels and metadata throughout the workflow. We explain why in our accompanying [document]. tl;dr [Nature Videos](https://youtu.be/j7K3s_vi_1Y)

## `cat-met-labels`
`cat-met-labels` (short for _category and metrics labels_) is the data file that describes labels and metadata in bblFlow. Add to your own `cat-met-labels` or make a [pull request](https://github.com/big-Life-Lab/bllflow/pulls). 

Labels and metadata are used in five key areas of research reporting:

1) **Data cleaning and variable transformation** -- such as applying truncation rules, centering, etc.
1) **Aggregated results** -- such as _Table 1 - Characteristics of study population_.
1) **Model description** -- model coefficeints.
1) **Summary statistics** -- metrics model performance.
1) **Validation data** -- example dataset to verify algorithm scoring (for predictive models).

`cat-met-labels`

```{r, echo=FALSE, results='asis'}
library(DT)

dt <- read.csv(system.file("extdata", "summary_variables.csv", package = "bllFlow"))
datatable(dt, options = list(pageLength = 5))
```


## Data templates
**bblFlow** has three Model Specfication Worksheets (MSW):

1) `MSW-variables` --- for all model variables (features).
1) `MSW-categories` --- for all category (factor) levels.

Include in each worksheet is metadata for specifying the model, including:

- variable labels
- data cleaning
- tranfromation rules

The 

We typically create a family of algorithms that consist of different outcomes 
using the same development cohort. We create "master" worksheets that contain 
variables used in any algorithm wtih a family of algorithms. As well as 
algorithm specific worksheets with data cleaning and transformation rules, such 
as max-min rules, that are specfic for each algorithm. 





