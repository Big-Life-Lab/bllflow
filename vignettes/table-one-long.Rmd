```{r}
library(survival)
```

```{r}
data(pbc)
pbc$exp_percentile <- runif(nrow(pbc), 0, 1)
pbc$ageGroup <- ifelse(pbc$age < 20, 1,
                ifelse(pbc$age >= 20 & pbc$age < 40, 2,
                ifelse(pbc$age >= 40 & pbc$age < 80, 3,
                ifelse(pbc$age >= 80, 4, NA))))
```

```{r}
library(bllFlow)
variablesSheet <- read.csv(file.path(getwd(), '../inst/extdata/PBC/PBC - variables.csv'))
variablesDetailsSheet <- read.csv(file.path(getwd(), '../inst/extdata/PBC/PBC - variable_details.csv'))
pbcModel <- BLLFlow(pbc, variablesSheet, variablesDetailsSheet)
```

```{r}
tableVariables <- read.csv(file.path(getwd(), '../inst/extdata/PBC/PBC-table-variables.csv'))
tableOneLong <- tables.CreateTableOneLong(pbcModel, tableVariables)
print(tableOneLong)
```