```{r}
library(survival)
```

```{r}
data(pbc)
```

```{r}
library(bllFlow)
variablesSheet <- read.csv(file.path(getwd(), '../inst/extdata/PBC/PBC - variables.csv'))
variableDetailsSheet <- read.csv(file.path(getwd(), '../inst/extdata/PBC/PBC - variable_details.csv'))
pbcModel <- BLLFlow(pbc, variablesSheet, variableDetailsSheet)
```
center.bllFlow() centers variables in the bllFlow dataframe using center specifications in the MSW.
The MSW has `center` header with the following allowable values (sheet specifications would need to be updated; currently the only allowable value = "TRUE" )
"mean" - centers on the mean of the variable in the bllflow dataframe.
"weighted.mean" - centers on the weighted mean (see weighted.mean {stats}). The weight variable is located in the MSW_variables:`variableUse = 'weight'. see: https://docs.google.com/spreadsheets/d/1FGy-Zg0AUMEVSqpbAoIMoS_SgD__mG2SCIU2vVwsyCI/edit#gid=1948148365

"MSWMean" - centers on the mean value in the MSW variableSheet. The values within the "mean" header for MSW.

Note: we will not include `median` at this time. 

```{r}

center.bllFlow() # will call sj::center() with the following attributes

#  sj::center  <- function(x, ..., include.fac = FALSE, append = TRUE, suffix = "_C")
#    where
#  x = bllFlow data frame
#  ... = MSW variables where there is an allowable `center` value
#  note: suffix for bllFlow = "_C" (not "_c")
#  note: we would create a bllflow method for mean() that would calculate the three different means: 'mean' the original mean; 'meanWeighted' the weighted mean (see weighted.mean {stats}) and 'MSWMean' the mean calcualted using the MSW mean values.

# Do we want a little utility function addMeanToMSW which would calculate mean and then add to the MSW sheet (object)?
```
Generic Center Function SPEC

@param data the dataset that is to be centered
@param varsToCenterOn a vector of vars names to center on
@param howToCenter Value/What to center the data(make it a vector with 1 for 1 on the vector of passed vars)
@param appendName the value to append to variable 
@param append append new vars or replace vars

@return new modified data

BLLFlow Center Function

@param bllFlow contains the data and MSW we use
@param appendName The name to append to the data
@param append/replace config if u want to append/replace
@param optional vector of vars to center
@param optional vector of how to center (Not sure if we wanna let them do that)

@return bllflow object with modified metadata and the MSW data